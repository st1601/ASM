{% extends 'base.html.twig' %}

{% block body %}
 <div class="container-md col-md-8 text-center mt-4">
   <a href="{{ path('student_add')}}">
      <img src="{{ asset('img/add.png') }}" width="80" height="50">
   </a>
   <div class="form-group col-md-2">
   <form action="{{ path('search_student_name')}}" method="get">
   <input class="text" type="name" name="name" required placeholder="Search by Student">
   <input type="submit" value="Search">
   </form></div>
  {% if students == null %}
    <h4 class="text text-danger">No student found</h4>
  {% else %}
  <table class="table table-success table-striped">
       <thead>
            <tr>
                <th>Student ID</th>
                <th>Student Name</th>
                <th>Student Birthday</th>
                {# <th>Student Present</th>
                <th>Student Age</th> #}
                <th>Student Address</th>
                <th>Student Mobile</th>
                <th>Student Cover</th>
                <th>Room</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
       </thead>
       <tbody>
       {% for student in students %}
           <tr>
                <td>{{ student.id }}</td>
                <td>{{ student.name }}</td>
                <td> {{student.birthday | date('d/m/Y')}} </td>
                {# <td>{{ student.present | date('d/m/Y')}}</td>
                <td>{{student.present - student.birthday | date('d/m/Y')}}</td> #}
                 <td> {{ student.address}} </td>
                  <td> {{ student.mobile}} </td>
                  <td>
                      <img src="{{ asset('covers/'~student.cover) }}" width="100" height="120">  
                  </td>
                  <td>
                    {% if student.room != null %}
                        {% for room in student.room %}
                            <a room="text-decoration-none" href="{{ path('room_index', {'id' : room.id }) }}">
                                {{ room.name }}
                            </a>
                            <br>
                        {% endfor %}
                    {% endif %}
                </td>
                <td>
                    <a href="{{ path('student_edit', {'id' : student.id }) }}" >
                        <img src="{{ asset('img/edit.png') }}" width='50' height='50' />
                    </a>
                </td>
                <td>
                   <a href="{{ path('student_delete', {'id' : student.id }) }}" 
                        onclick = "return confirm('Do you want to delete this student ?');">
                        <img src="{{ asset('img/delete.png') }}" width='50' height='50' />
                    </a>
                </td>
           </tr>
       {% endfor %}
       </tbody>
  </table>
  {% endif %}
</div>
{% endblock %}
{% block copyright %}
		<div class="text-primary"class="center">
			<h4>
				<i class="fa fa-copyright" aria-hidden="true">
					Copyright by Group 4
				</i>
			</h4>
		{% endblock %}
